{"version":3,"file":"assets/js/459.index.js","mappings":";wMAIO,SAASA,IACd,OAAOC,EAAAA,EAAAA,IAHQ,SCCjB,IAAMC,EAAUC,IAAAA,OAAa,CAC3BC,QAASC,wCAETC,QAAS,OAIXJ,EAAQK,aAAaC,QAAQC,KAC3B,SAACC,GACC,IAAMC,EAASD,EAUf,OARAC,EAAOC,QAAQ,+BAAiC,IAC5CZ,MAIFW,EAAOC,QAAP,gCAA6CZ,MAGxCW,KAET,SAACE,GAGC,OADAC,QAAQC,IAAIF,GACLG,QAAQC,OAAOJ,MAK1BX,EAAQK,aAAaW,SAAST,KAC5B,SAACS,GAKC,OAJYA,EAASC,QAMvB,SAACN,GACC,GAAIA,EAAMK,SAAU,CAClB,IAAME,EAAUP,EAAMK,SAASC,KAER,MAAnBC,EAAQC,QAAoC,kBAAlBD,EAAQP,MACpCC,QAAQC,IAAI,aAGZD,QAAQC,IAAI,eAGdD,QAAQC,IAAI,6BAEd,OAAOC,QAAQC,OAAOJ,MAI1B,UCvDA,IAAMD,EAAU,CAAE,eAAgB,iRCDlC,8hGAAAU,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,0oDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,ggDA8BA,QA3Ba,WACX,SAA0BC,EAAAA,EAAAA,UAAS,IAAnC,GAAOC,EAAP,KAAcC,EAAd,KACA,KAAwBF,EAAAA,EAAAA,WAAS,GAAjC,GAAOG,EAAP,KAAaC,EAAb,KACMC,GAAWC,EAAAA,EAAAA,aAAW,YAAC,oGAEzBF,GAAQ,GAFiB,cDDvBhB,IAAS,CAAEC,QAAAA,EAASkB,YCIJC,GDHfvB,EAAQwB,IAFH,QAEYrB,GCAK,OAGnBsB,EAHmB,OAIzBR,EAASQ,GAJgB,gDAMzBnB,QAAQC,IAAR,MANyB,yBAQzBY,GAAQ,GARiB,+CDHxB,IAEChB,ICCuB,0BAU1B,IAEH,OACE,gBAAC,KAAD,CAAKuB,GAAG,UAAUC,EAAE,MAClB,gBAAC,KAAD,CAASD,GAAG,MAAZ,sBACA,2BACA,gBAAC,KAAD,CAAQE,QAASR,GAAjB,YACA,2BACA,2BACCF,EAAO,gBAAC,IAAD,MAAc,gBAAC,KAAD,KAAgBF,GAASA,EAAMa,KAAI,SAACF,GAAD,OAAO,gBAAC,KAAD,CAAUG,IAAKH,EAAEI,IAAKJ,EAAEK","sources":["webpack://react18/./src/utils/auth.js","webpack://react18/./src/utils/request.js","webpack://react18/./src/api/HTTP.js","webpack://react18/./src/pages/HTTP/index.jsx"],"sourcesContent":["import Cookies from 'js-cookie'\n\nconst TokenKey = 'Admin'\n\nexport function getToken() {\n  return Cookies.get(TokenKey)\n}\n\nexport function setToken(token) {\n  return Cookies.set(TokenKey, token, { expires: 7 })\n}\n\nexport function removeToken() {\n  return Cookies.remove(TokenKey)\n}\n","import axios from 'axios'\nimport { getToken } from 'utils/auth'\n\nconst service = axios.create({\n  baseURL: process.env.API_URL, // url = base url + request url\n  // withCredentials: true, // send cookies when cross-domain requests\n  timeout: 180000, // request timeout (3분)\n})\n\n// request interceptor\nservice.interceptors.request.use(\n  (_config) => {\n    const config = _config\n    // do something before request is sent\n    config.headers['Access-Control-Allow-Origin'] = '*'\n    if (getToken()) {\n      // let each request carry token\n      // ['X-Token'] is a custom headers key\n      // please modify it according to the actual situation\n      config.headers['Authorization'] = `Bearer  ${getToken()}`\n    }\n    // console.log(config);\n    return config\n  },\n  (error) => {\n    // do something with request error\n    console.log(error) // for debug\n    return Promise.reject(error)\n  }\n)\n\n// response interceptor\nservice.interceptors.response.use(\n  (response) => {\n    const res = response.data\n\n    // Custom Code\n\n    return res\n  },\n  (error) => {\n    if (error.response) {\n      const errData = error.response.data\n      // 로그인 세션 만료\n      if (errData.status === 401 || errData.error === 'invalid_token') {\n        console.log('로그인 세션 만료')\n      } else {\n        // 이외의 오류\n        console.log('이외의 오류')\n      }\n    } else {\n      console.log('네트워크 오류입니다. 관리자에게 문의해주세요.')\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default service\n","import request from 'utils/request'\n\nconst headers = { 'Content-Type': 'application/json' }\n\nexport function getPostList(params) {\n  const url = 'posts'\n  const config = { headers, params }\n  return request.get(url, config)\n}\n","import { useState, useCallback } from 'react'\nimport { ListItem, UnorderedList, Spinner, Button, Box, Heading } from '@chakra-ui/react'\nimport { getPostList } from 'api/HTTP'\n\nconst HTTP = () => {\n  const [posts, setPosts] = useState([])\n  const [load, setLoad] = useState(false)\n  const getPosts = useCallback(async () => {\n    try {\n      setLoad(true)\n      const res = await getPostList()\n      setPosts(res)\n    } catch (e) {\n      console.log(e)\n    } finally {\n      setLoad(false)\n    }\n  }, [])\n\n  return (\n    <Box as=\"section\" p=\"10\">\n      <Heading as=\"h1\">HTTP Request Usage</Heading>\n      <br />\n      <Button onClick={getPosts}>Get Post</Button>\n      <br />\n      <br />\n      {load ? <Spinner /> : <UnorderedList>{posts && posts.map((p) => <ListItem key={p.id}>{p.title}</ListItem>)}</UnorderedList>}\n    </Box>\n  )\n}\n\nexport default HTTP\n"],"names":["getToken","Cookies","service","axios","baseURL","process","timeout","interceptors","request","use","_config","config","headers","error","console","log","Promise","reject","response","data","errData","status","i","useState","posts","setPosts","load","setLoad","getPosts","useCallback","params","getPostList","get","res","as","p","onClick","map","key","id","title"],"sourceRoot":""}